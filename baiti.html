<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/ClientSide/html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>TODO write content</div>
        <label for="seconds">Aprēķināt cik daudz informācijas var lejupielādēt <input type="text" id="seconds" name="seconds"> sekundēs, ja interneta ātrums ir 25 Mbps.</label>
        <form id="downloadForm">

            <br>
            <label for="unit">Atbilde:</label>
            <input type="text" id="result" readonly>
            <br>
            <input type="radio" id="kib" name="unit" value="KiB">
            <label for="kib">KiB</label>
            <input type="radio" id="kb" name="unit" value="KB">
            <label for="kb">KB</label>
            <br>
            <button type="button" onclick="calculateDownload()">Aprēķināt</button>
        </form>
        <script>

            function calculateDownload() {

                let seconds = document.getElementById("seconds").value;

                let resultField = document.getElementById("result");

                let unitKiB = document.getElementById("kib").checked;

                let unitKB = document.getElementById("kb").checked;

                if (seconds === "" || seconds <= 0) {

                    resultField.value = "Nepareiza vērtība";

                    return;

                }

                let speedMbps = 25;

                let speedBps = speedMbps * 1_000_000;

                let speedBytesPerSec = speedBps / 8;

                let totalBytes = speedBytesPerSec * seconds;

                if (unitKiB) {

                    resultField.value = (totalBytes / 1024).toFixed(2) + " KiB";

                } else if (unitKB) {

                    resultField.value = (totalBytes / 1000).toFixed(2) + " KB";

                } else {

                    resultField.value = "Izvēlies mērvienību!";

                }

            }

            function resetForm() {

                document.getElementById("downloadForm").reset();

            }

            document.getElementById("seconds").addEventListener("focus", resetForm);
        </script>
    </body>
</html> 

</body>
</html>
